
@using Tourista.API.Models
@using TouristaFrontEnd.Helper

@{
    ViewBag.Title = @Model.TitleDictionary[@Common.CurrentLang];
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .mg-map {
        width: 100%;
        height: 300px;
    }
</style>
<div id="wrapper-content">
    <!-- MAIN CONTENT-->
    <div class="main-content">
        <section class="page-banner hotel-view">
            <div class="container">
                <div class="page-title-wrapper">
                    <div class="page-title-content">
                        <ol class="breadcrumb">
                            <li>
                                @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_Home, "Index", "Home", null, new { @class = "link home" })
                            </li>
                            <li>
                                @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_Offers, "Index", "Offer", null, new { @class = "link" })
                            </li>


                            <li class="active">
                                <a href="#" class="link">
                                    @if (@Model.TitleDictionary[@Common.CurrentLang].Length >= 20)
                                    {

                                        @Model.TitleDictionary[@Common.CurrentLang].Substring(0, 20)

                                    }
                                    else
                                    {
                                        @Model.TitleDictionary[@Common.CurrentLang]
                                    }
                                </a>
                            </li>
                        </ol>
                        <div class="clearfix"></div>
                        <h2 class="captions">
                            @if (@Model.TitleDictionary[@Common.CurrentLang].Length >= 20)
                            {

                                @Model.TitleDictionary[@Common.CurrentLang].Substring(0, 20)

                            }
                            else
                            {
                                @Model.TitleDictionary[@Common.CurrentLang]
                            }
                        </h2>
                        <div class="price"><span class="text"></span><span class="number">@Model.Price</span><sup class="unit">@Model.Currency.TitleDictionary[@Common.CurrentLang]</sup> /<sup class="unit" style="text-decoration: line-through;">@Model.PriceBefore</sup></div>
                    </div>
                </div>
            </div>
        </section>
        <section>
            <div class="hotel-view-main padding-top ">
                <div class="container">
                    <div class="journey-block">
                        <h3 class="title-style-2">

                            <span> @Model.TitleDictionary[@Common.CurrentLang]</span>
                        </h3>

                        <div class="schedule-block">
                            <div class="element"><p class="schedule-title">Date</p><span class="schedule-content">@Model.DateFrom.ToString("dd-MMM-yyyy") :  @Model.DateTo.ToString("dd-MMM-yyyy") </span></div>
                            <div class="element"><p class="schedule-title">Days Count</p><span class="schedule-content">@Model.DaysCount</span></div>
                            <div class="element"><p class="schedule-title">Nigths Count</p><span class="schedule-content">@Model.NigthsCount</span></div>
                            <div class="element"><p class="schedule-title">City</p><span class="schedule-content">@Model.City.TitleDictionary[@Common.CurrentLang]</span></div>
                            <div class="element"><p class="schedule-title">Hotel</p><span class="schedule-content">@Model.Hotel.TitleDictionary[@Common.CurrentLang]</span></div>
                        </div>
                        <div class="content-wrapper">
                            <h3 class="title-style-2 title " style="margin-top: 50px;">@TouristaFrontEnd.Resources.Global.Abouttheoffer </h3>
                            @*<h3 class="title-style-3">@TouristaFrontEnd.Resources.Global.AbouttheOffer</h3>*@

                            <div style="width: 100%;margin: auto">
                                <div class="gallery_slider" id="hotel">

                                    @foreach (string img in Model.ImagesURL)
                                    {
                                        <div>
                                            <img src="@img" class="img-responsive" style="height: 60%;">
                                        </div>
                                    }
                                </div>

                                @*<div class="slider-nav" id="hotel_nav" style="height: 236px;">
                                        <div>
                                            @foreach (string img in Model.ImagesURL)
                                            {

                                                <img src="@img" slide="slide_1" class="img-responsive">

                                            }
                                        </div>
                                    </div>*@

                                <div class="car-rent-layout">
                                    <div class="content-wrapper">
                                        <h3 class="title-style-2 title">@TouristaFrontEnd.Resources.Global.Abouttheoffer </h3>
                                        <div class="car-meta-info star-ratings">
                                            <div class="guest-rating">@TouristaFrontEnd.Resources.Global.Stars: @Model.Star</div>
                                        </div>
                                        <!-- content -->
                                        <div class="entry-content description">
                                            <div class="vc_row wpb_row vc_row-fluid">
                                                <div class="wpb_column vc_column_container vc_col-sm-12">
                                                    <div class="vc_column-inner ">
                                                        <div class="wpb_wrapper">
                                                            <div class="wpb_text_column wpb_content_element ">
                                                                <div class="wpb_wrapper">
                                                                    <p>
                                                                        @MyHTMLHelpers.PreserveNewLines(Html, @Model.DescriptionDictionary[@Common.CurrentLang])
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>




                                        </div>

                                    </div>
                                </div>
                                <div class="find-widget find-hotel-widget widget new-style">
                                    <h4 class="title-widgets">BOOK  </h4>
                                    <form id="Offerformsubmit">
                                        @Html.Hidden("OfferId")
                                        <div class="text-input small-margin-top">
                                            <div class="input-daterange">
                                                <div class="text-box-wrapper half">
                                                    <label class="tb-label">Check in</label>
                                                    <div class="input-group"><input id="CheckIn" type="text" placeholder="MM/DD/YY" class="tb-input"><i class="tb-icon fa fa-calendar input-group-addon"></i></div>
                                                </div>
                                                <div class="text-box-wrapper half">
                                                    <label class="tb-label">Check out</label>
                                                    <div class="input-group"><input id="CheckOut" type="text" placeholder="MM/DD/YY" class="tb-input"><i class="tb-icon fa fa-calendar input-group-addon"></i></div>
                                                </div>
                                            </div>
                                            <div class="count adult-count text-box-wrapper">
                                                <label class="tb-label">Adult</label>
                                                <div class="select-wrapper">
                                                    <!--i.fa.fa-chevron-down-->
                                                    <select id="Adult" class="form-control custom-select selectbox">

                                                        <option value="1">1</option>
                                                        <option value="2">2</option>
                                                        <option value="3">3</option>
                                                        <option value="4">4</option>
                                                        <option value="5">5</option>
                                                        <option value="6">6</option>
                                                        <option value="7">7</option>
                                                        <option value="8">8</option>
                                                        <option value="9">9</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="count child-count text-box-wrapper">
                                                <label class="tb-label">Child</label>
                                                <div class="select-wrapper">
                                                    <!--i.fa.fa-chevron-down--><select id="Child" class="form-control custom-select selectbox">

                                                        <option value="1">1</option>
                                                        <option value="2">2</option>
                                                        <option value="3">3</option>
                                                        <option value="4">4</option>
                                                        <option value="5">5</option>
                                                        <option value="6">6</option>
                                                        <option value="7">7</option>
                                                        <option value="8">8</option>
                                                        <option value="9">9</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="first-name text-box-wrapper">
                                                <label class="tb-label">Your First Name</label>
                                                <div class="input-group"><input id="firstname" required type="text" placeholder="Write your first name" class="tb-input"></div>
                                            </div>
                                            <div class="last-name text-box-wrapper">
                                                <label class="tb-label">Your Last Name</label>
                                                <div class="input-group"><input id="lastname" type="text" placeholder="Write your last name" class="tb-input"></div>
                                            </div>
                                            <div class="email text-box-wrapper">
                                                <label class="tb-label">Your Email</label>
                                                <div class="input-group"><input id="Email" type="email" placeholder="Write your email address" class="tb-input"></div>
                                            </div>
                                            <div class="phone text-box-wrapper">
                                                <label class="tb-label">Your Number Phone</label>
                                                <div class="input-group"><input id="Phone" type="text" placeholder="Write your number phone" class="tb-input"></div>
                                            </div>
                                            <div class="place text-box-wrapper">
                                                <label class="tb-label">Where are your address?</label>
                                                <div class="input-group"><input id="Address" type="text" placeholder="Write your address" class="tb-input"></div>
                                            </div>
                                            <div class="note text-box-wrapper">
                                                <label class="tb-label">Note:</label>
                                                <div class="input-group"><textarea id="Note" type="textarea" placeholder="Write your note" rows="3" class="tb-input"></textarea></div>
                                            </div>
                                            <button id="btnSubmitOffer"   data-hover="SEND REQUEST" class="btn btn-slide"><span class="text">BOOK Now</span><span class="icons fa fa-long-arrow-right"></span></button>
                                        </div>
                                    </form>
                                </div>

                            </div>

                        </div>

                    </div>
                </div>
                <br />
                <div class="container">

                    @{ Html.RenderAction("RelatedOffers", "Offer",
   new { OfferId = @Model.OfferId, mvcController = "Offer", mvcAction = "RelatedOffers" }); }

                </div>
            </div>
        </section>
    </div>
    @*BUTTON BACK TO TOP*@
    <div id="back-top"><a href="#top" class="link"><i class="fa fa-angle-double-up"></i></a></div>
</div>
@*<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>*@

<script src="/Scripts/js/pages/hotel-view.js"></script>
<script>
    $(document).ready(function () {

        $("#btnSubmitOffer").click(function () {
            debugger;
            if ($('#firstname').val() == "" || $('#lastname').val() == "" || $('#Email').val() == "" || $('#Phone').val() == "" ||
                $('#CheckIn').val() == "" || $('#CheckOut').val() == "" || $('#Adult').val() == "" || $('#Child').val() == "") {
                alert("You must enter all inputs")
                return;
            }
            var user = {
                FullName: $('#firstname').val() + ' ' + $('#lastname').val(),
                Email: $('#Email').val(),
                Phone: $('#Phone').val(),

            };
            $.ajax({
                url: "http://touristaegy.com/backend/API/OfferReservations",
                type: 'post',
                dataType: 'json',
                success: function (data) {
                    debugger;

                },
                data: {
                    CheckIn: $('#CheckIn').val(),
                    CheckOut: $('#CheckOut').val(),
                    Adult: $('#Adult').val(),
                    Child: $('#Child').val(),
                    Address: $('#Address').val(),
                    Note: $('#Note').val(),
                    User: user,
                    OfferId: $('#OfferId').val()
                },
                success: function (result) {

                    alert("Thanks, we will contact with soon ");
                },
                error: function (result) {
                    debugger;
                    console.log(result);
                }
            }); 
        });
         
    });


</script>