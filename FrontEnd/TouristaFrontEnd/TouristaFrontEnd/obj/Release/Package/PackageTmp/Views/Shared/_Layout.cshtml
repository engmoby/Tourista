@using System.Globalization
@using System.Threading
@using TouristaFrontEnd.Helper
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Tourista</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <link href="@TouristaFrontEnd.Resources.Global.StyleUrl" rel="stylesheet">
    <link href="@TouristaFrontEnd.Resources.Global.StyleUrl2" rel="stylesheet">

    <!-- FONT CSS
        <link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700,900">
        <link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700">
        <link type="text/css" rel="stylesheet" href="/Content/font/font-icon/font-awesome/css/font-awesome.css">
        <link type="text/css" rel="stylesheet" href="/Content/font/font-icon/font-flaticon/flaticon.css">

        <link type="text/css" rel="stylesheet" href="/Scripts/libs/bootstrap/css/bootstrap.min.css">
        <link type="text/css" rel="stylesheet" href="/Scripts/libs/animate/animate.css">
        <link type="text/css" rel="stylesheet" href="/Scripts/libs/slick-slider/slick.css">
        <link type="text/css" rel="stylesheet" href="/Scripts/libs/slick-slider/slick-theme.css">
        <link type="text/css" rel="stylesheet" href="/Scripts/libs/selectbox/css/jquery.selectbox.css">
        <link type="text/css" rel="stylesheet" href="/Scripts/libs/please-wait/please-wait.css">

        <link type="text/css" rel="stylesheet" href="/Content/layout.css">
        <link type="text/css" rel="stylesheet" href="/Content/components.css">
        <link type="text/css" rel="stylesheet" href="/Content/responsive.css">
        <link type="text/css" rel="stylesheet" href="/Scripts/libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css">
    -->
</head>
<body>

    <div class="body-wrapper">
        <!-- MENU MOBILE-->
        <div class="wrapper-mobile-nav">
            <div class="header-topbar">
                <div class="topbar-search search-mobile">
                    <img src="/Content/images/logo/logo.png" alt="" class="img-responsive">
                    <form class="search-form">
                        <!-- <div class="input-icon"><i class="btn-search fa fa-search"></i><input type="text" placeholder="Search here..." class="form-control"/></div> -->
                    </form>
                </div>
            </div>
            <div class="header-main">
                <div class="menu-mobile">
                    <ul class="nav-links nav navbar-nav">
                        <li>
                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_Home, "Index", "Home", null, new { @class = "main-menu" })
                        </li>

                        <li>
                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_About, "Index", "About", null, new { @class = "main-menu" })
                        </li>
                        <li>
                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_Hotels, "Index", "Hotel", null, new { @class = "main-menu" })
                        </li>

                        <li>
                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_News, "Index", "News", null, new { @class = "main-menu" })
                        </li>
                        <li>
                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.ContactUs_Title, "Index", "Contact", null, new { @class = "main-menu" })
                        </li>
                        <li>
                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Career_Index_Title, "Index", "Career", null, new { @class = "main-menu" })
                        </li>

                    </ul>

                </div>
            </div>
        </div>
        <!-- WRAPPER CONTENT-->
        <div class="wrapper-content">
            <!-- HEADER-->
            <header>
                <div class="bg-transparent header-01">
                    <div class="header-topbar">
                        <div class="container">
                            <ul class="topbar-left list-unstyled list-inline pull-left">
                                @Html.ActionLink("English", "ChangeLanguage", "Language", new { SelectedLanguage = "en" }, null)
                                <a href="/Language/ChangeLanguage?SelectedLanguage=en"><img src="~/Content/images/en.png" /> </a>  &nbsp;
                                @Html.ActionLink("العربيه", "ChangeLanguage", "Language", new { SelectedLanguage = "ar" }, null)
                                <a href="/Language/ChangeLanguage?SelectedLanguage=ar"><img src="~/Content/images/ar.png" /> </a>  &nbsp;

                            </ul>
                        </div>
                    </div>
                    <div class="header-main">
                        <div class="container">
                            <div class="header-main-wrapper">
                                <div class="hamburger-menu">
                                    <div class="hamburger-menu-wrapper">
                                        <div class="icons"></div>
                                    </div>
                                </div>
                                <div class="navbar-header">
                                    <div class="logo"><a href="/Home/Index" class="header-logo"><img src="/Content/images/logo/logo.png" alt="" /></a></div>
                                </div>
                                <nav class="navigation">
                                    <ul class="nav-links nav navbar-nav active">
                                        <li>
                                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_Home, "Index", "Home", null, new { @class = "main-menu" })
                                        </li>

                                        <li>
                                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_About, "Index", "About", null, new { @class = "main-menu" })
                                        </li>
                                        <li>
                                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_Hotels, "Index", "Hotel", null, new { @class = "main-menu" })
                                        </li>

                                        <li>
                                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_News, "Index", "News", null, new { @class = "main-menu" })
                                        </li>
                                        <li>
                                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.ContactUs_Title, "Index", "Contact", null, new { @class = "main-menu" })
                                        </li>
                                        <li>
                                            @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Career_Index_Title, "Index", "Career", null, new { @class = "main-menu" })
                                        </li>

                                    </ul>
                                    @*<div class="nav-search hide">
                                            <form>
                                                <input type="text" placeholder="Search" class="searchbox" />
                                                <button type="submit" class="searchbutton fa fa-search"></button>
                                            </form>
                                        </div>*@
                                </nav>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- WRAPPER-->
            <div id="wrapper-content">
                <!-- MAIN CONTENT-->

                @RenderBody()


                <!-- BUTTON BACK TO TOP-->
                <div id="back-top"><a href="#top" class="link"><i class="fa fa-angle-double-up"></i></a></div>
            </div>
            <!-- FOOTER-->
            @*@Html.Partial("Footer")*@
            @*@{
                    Html.RenderPartial("Footer");
                }*@
            @{ Html.RenderAction("Footer", "Home"); }


        </div>
        <div class="hyperlink">
            <div class="container">
                <div class="social-footer">
                    <ul class="list-inline list-unstyled">
                        <li><a href="@Common.GeneralModel.Contact[0].Facebook" target="_blank" class="link facebook"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="@Common.GeneralModel.Contact[0].LinkedIn" target="_blank" class="link facebook"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="@Common.GeneralModel.Contact[0].Twitter" class="link twitter"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="@Common.GeneralModel.Contact[0].Instgram" class="link facebook"><i class="fa fa-instagram"></i></a></li>
                    </ul>
                </div>
                <div class="name-company">&copy; Designed by Quad Tech.</div>
            </div>
        </div>


    </div>


    @*@Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/bootstrap")
        @RenderSection("scripts", required: false)*@

    <script src="/Scripts/libs/jquery/jquery-2.2.3.min.js"></script>
    <script src="/Scripts/libs/bootstrap/js/bootstrap.min.js"></script>
    <script src="/Scripts/libs/detect-browser/browser.js"></script>
    <script src="/Scripts/libs/smooth-scroll/jquery-smoothscroll.js"></script>
    <script src="/Scripts/libs/wow-js/wow.min.js"></script>
    <script src="/Scripts/libs/slick-slider/slick.min.js"></script>
    <script src="/Scripts/libs/selectbox/js/jquery.selectbox-0.2.js"></script>
    <script src="/Scripts/libs/please-wait/please-wait.min.js"></script>
    <!--script(src="/Scripts/libs/parallax/jquery.data-parallax.min.js")--><!-- MAIN JS-->
    <script src="/Scripts/js/main.js"></script>
    <!-- LOADING JS FOR PAGE-->
    <script src="/Scripts/js/pages/hotel-view.js"></script>
    @*<script src="/Scripts/js/pages/home-page.js"></script>*@
    <script src="http://maps.googleapis.com/maps/api/js"></script>
    <script src="/Scripts/libs/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>

    @*<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>*@
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-form-validator/2.3.26/jquery.form-validator.min.js"></script>
    <script>
        $.ajax({
            url: "http://touristaegy.com/api/Countries/GetAllCountries",
            type: "Get",
            success: function (data) {
                for (var i = 0; i < data.results.length; i++) {
                    debugger;
                    $(
                        "<option value='" + data.results[i].countryId + "'>" + data.results[i].titleDictionary['@Common.CurrentLang'] + "</option>"

                    ).appendTo("#Countryid");
                }
                $(document).ajaxStop($.unblockUI);
            },
            error: function (msg) {
            }
        });

        // Dropdown list change event.
        $('#Countryid').change(function () {
            $('#Cityid option').remove();
            $.getJSON('http://touristaegy.com/api/Countries/GetCountryById', { CountryId: $('#Countryid').val() }, function (data) {
                $.each(data.cityes, function () {
                    debugger
                    $('#Cityid').append('<option value=' + this.cityId + '>' + this.titleDictionary['@Common.CurrentLang'] + '</option>');
                });
            }).fail(function (jqXHR, textStatus, errorThrown) {
                alert('Error getting products!');
            });
        });

        // Dropdown list change event.
        $('#Cityid').change(function () {
            $('#Hotelid option').remove();
            $.getJSON('http://touristaegy.com/api/Hotels/GetHotelByCityId', { cityId: $('#Cityid').val() }, function (data) {
                $.each(data, function () {
                    debugger
                    $('#Hotelid').append('<option value=' + this.hotelId + '>' + this.titleDictionary['@Common.CurrentLang'] + '</option>');
                });
            }).fail(function (jqXHR, textStatus, errorThrown) {
                alert('Error getting products!');
            });
        });

    </script>

    <script>
        $.validate({
            form: '#myForm',
            modules: 'security',
            onError: function ($form) {
                debugger
                alert('Validation of form ' + $form.attr('id') + ' failed!');
            },
            onSuccess: function ($form) {
                debugger
                //sendnewsletter();
                return false;
            }

        });
    </script>
    <script type="text/javascript">
        function validateEmail(email) {
            debugger;
            var pattern = new RegExp("[-0-9a-zA-Z.+_]+@@[-0-9a-zA-Z.+_]+\.[a-zA-Z]{2,4}");
            return pattern.test(email);
        }

        $(document).ready(function () {

            $('#btnSave').attr('disabled', true);
            $('#Mail').keyup(function () {
                if ($(this).val().length != 0) {
                    $('#btnSave').attr('disabled', false);
                } else {
                    $('#btnSave').attr('disabled', true);
                }
            });

            $('#btnSave2').attr('disabled', true);
            $('#Mail2').keyup(function () {
                if ($(this).val().length != 0) {
                    $('#btnSave2').attr('disabled', false);
                } else {
                    $('#btnSave2').attr('disabled', true);
                }
            });

        });

        function sendnewsletter() {
            debugger;
            var newsletter = {
                Mail: $("#Mail").val()
            }

            if (!validateEmail(newsletter.Mail)) {
                $("#MSG").text(" NewsletterError");
                $("#MSG").css("color", "red");

            } else {
                $('#btnSave').attr('disabled', true);
                $('#MSG').html(' NewsletterSending');
                //   var apiUrl = document.querySelector('#HServicesURL').value;
                $.ajax({
                    url: "http://localhost:32569/API/Newsletters",
                    type: 'post',
                    dataType: 'json',
                    success: function (data) {
                        if (data.OperationStatus === "Succeded") {
                            $('#MSG').html(" NewsletterSubmitMsg");
                            $('#btnSave').attr('disabled', false);
                        } else {
                            $('#MSG').html(" AlreadyExist");
                        }

                    },
                    data: newsletter
                });
            }
            //Validate Email Input

        }

        function sendnewsletter2() {
            debugger;
            var newsletter = {
                Mail: $("#Mail2").val()
            }

            if (!validateEmail(newsletter.Mail)) {
                $("#MSG2").text(" NewsletterError");
                $("#MSG2").css("color", "red");

            } else {
                $('#btnSave2').attr('disabled', true);
                $('#MSG2').html(' NewsletterSending');
                //   var apiUrl = document.querySelector('#HServicesURL').value;
                $.ajax({
                    url: "http://localhost:32569/API/Newsletters",
                    type: 'post',
                    dataType: 'json',
                    success: function (data) {
                        if (data.OperationStatus === "Succeded") {
                            $('#MSG2').html(" NewsletterSubmitMsg");
                            $('#btnSave2').attr('disabled', false);
                        } else {
                            $('#MSG2').html(" AlreadyExist");
                        }

                    },
                    data: newsletter
                });
            }
            //Validate Email Input

        }
    </script>


    <script>
        $('#hotel').slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: true,
            fade: true,
            asNavFor: '#hotel_nav'
        });
        $('#hotel_nav').slick({
            slidesToShow: 3,
            slidesToScroll: 1,
            asNavFor: '#hotel',
            dots: true,
            centerMode: true,
            focusOnSelect: true
        });
    </script>
</body>
</html>
