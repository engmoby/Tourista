
@using Tourista.API.Models
@using TouristaFrontEnd.Helper

@{
    ViewBag.Title = @Model.TitleDictionary[@Common.CurrentLang];
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .mg-map {
        width: 100%;
        height: 300px;
    }
</style>
<div id="wrapper-content">
    <!-- MAIN CONTENT-->
    <div class="main-content">
        <section class="page-banner hotel-view">
            <div class="container">
                <div class="page-title-wrapper">
                    <div class="page-title-content">
                        <ol class="breadcrumb">
                            <li>
                                @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_Home, "Index", "Home", null, new { @class = "link home" })
                            </li>
                            <li>
                                @Html.ActionLink(@TouristaFrontEnd.Resources.Global.Header_Backages, "Index", "Backage", null, new { @class = "link" })
                            </li>


                            <li class="active">
                                <a href="#" class="link">
                                    @if (@Model.TitleDictionary[@Common.CurrentLang].Length >= 20)
                                    {

                                        @Model.TitleDictionary[@Common.CurrentLang].Substring(0, 20)

                                    }
                                    else
                                    {
                                        @Model.TitleDictionary[@Common.CurrentLang]
                                    }
                                </a>
                            </li>
                        </ol>
                        <div class="clearfix"></div>
                        <h2 class="captions">
                            @if (@Model.TitleDictionary[@Common.CurrentLang].Length >= 20)
                            {

                                @Model.TitleDictionary[@Common.CurrentLang].Substring(0, 20)

                            }
                            else
                            {
                                @Model.TitleDictionary[@Common.CurrentLang]
                            }
                        </h2>
                        <div class="price"><span class="text"></span><span class="number">@Model.Price</span><sup class="unit">@Model.Currency.TitleDictionary[@Common.CurrentLang]</sup></div>
                    </div>
                </div>
            </div>
        </section>
        <section>
            <div class="hotel-view-main padding-top ">
                <div class="container">
                    <div class="journey-block">
                        <h3 class="title-style-2">

                            <span> @Model.TitleDictionary[@Common.CurrentLang]</span>
                        </h3>

                        <div class="schedule-block">
                            @*<div class="element"><p class="schedule-title">Date</p><span class="schedule-content">@Model.CreationTime.ToString("dd-MMM-yyyy") </span></div>*@
                            <div class="element"><p class="schedule-title">Days Count</p><span class="schedule-content">@Model.DaysCount</span></div>
                            <div class="element"><p class="schedule-title">Nigths Count</p><span class="schedule-content">@Model.NigthsCount</span></div>
                            <div class="element"><p class="schedule-title">City</p><span class="schedule-content">@Model.City.TitleDictionary[@Common.CurrentLang]</span></div>
                            @*<div class="element"><p class="schedule-title">Hotel</p><span class="schedule-content">@Model.Hotel.TitleDictionary[@Common.CurrentLang]</span></div>*@
                        </div>
                        <div class="content-wrapper">
                            <h3 class="title-style-2 title " style="margin-top: 50px;">@TouristaFrontEnd.Resources.Global.Aboutthebackage </h3>
                            @*<h3 class="title-style-3">@TouristaFrontEnd.Resources.Global.Aboutthebackage</h3>*@

                            <div style="width: 100%;margin: auto">
                                <div class="gallery_slider" id="hotel">

                                    @foreach (string img in Model.ImagesURL)
                                    {
                                        <div>
                                            <img src="@img" class="img-responsive" style="height: 60%;">
                                        </div>
                                    }
                                </div>

                                @*<div class="slider-nav" id="hotel_nav" style="height: 236px;">
                                        <div>
                                            @foreach (string img in Model.ImagesURL)
                                            {

                                                <img src="@img" slide="slide_1" class="img-responsive">

                                            }
                                        </div>
                                    </div>*@

                                <div class="car-rent-layout">
                                    <div class="content-wrapper">
                                        <h3 class="title-style-2 title">@TouristaFrontEnd.Resources.Global.Aboutthebackage </h3>
                                     
                                        <div class="car-meta-info star-ratings">
                                            @*<div class="guest-rating">@TouristaFrontEnd.Resources.Global.Stars: @Model.Star</div>*@
                                        </div>
                                        <!-- content -->
                                        <div class="entry-content description">
                                            <div class="vc_row wpb_row vc_row-fluid">
                                                <div class="wpb_column vc_column_container vc_col-sm-12">
                                                    <div class="vc_column-inner ">
                                                        <div class="wpb_wrapper">
                                                            <div class="wpb_text_column wpb_content_element ">
                                                                <div class="wpb_wrapper">
                                                                    <p>
                                                                        @MyHTMLHelpers.PreserveNewLines(Html, @Model.DescriptionDictionary[@Common.CurrentLang])
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>




                                        </div>

                                    </div>
                                </div>
                                <div class="find-widget find-hotel-widget widget new-style">
                                    <h4 class="title-widgets">@TouristaFrontEnd.Resources.Global.BookNow  </h4>
                                    <form id="backageformsubmit">
                                        @Html.Hidden("BackageId")
                                        <div class="text-input small-margin-top">
                                            <div class="input-daterange">
                                                <div class="text-box-wrapper half">
                                                    <label class="tb-label">@TouristaFrontEnd.Resources.Global.CheckIn</label>
                                                    <div class="input-group"><input id="CheckIn" type="text" placeholder="MM/DD/YY" class="tb-input"><i class="tb-icon fa fa-calendar input-group-addon"></i></div>
                                                </div>
                                                <div class="text-box-wrapper half">
                                                    <label class="tb-label">@TouristaFrontEnd.Resources.Global.CheckOut</label>
                                                    <div class="input-group"><input id="CheckOut" type="text" placeholder="MM/DD/YY" class="tb-input"><i class="tb-icon fa fa-calendar input-group-addon"></i></div>
                                                </div>
                                            </div>
                                            <div class="count adult-count text-box-wrapper">
                                                <label class="tb-label">@TouristaFrontEnd.Resources.Global.Booking_Adults</label>
                                                <div class="select-wrapper">
                                                    <!--i.fa.fa-chevron-down-->
                                                    <select id="Adult" class="form-control custom-select selectbox">

                                                        <option value="1">1</option>
                                                        <option value="2">2</option>
                                                        <option value="3">3</option>
                                                        <option value="4">4</option>
                                                        <option value="5">5</option>
                                                        <option value="6">6</option>
                                                        <option value="7">7</option>
                                                        <option value="8">8</option>
                                                        <option value="9">9</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="count child-count text-box-wrapper">
                                                <label class="tb-label">@TouristaFrontEnd.Resources.Global.Booking_Child</label>
                                                <div class="select-wrapper">
                                                    <!--i.fa.fa-chevron-down--><select id="Child" class="form-control custom-select selectbox">

                                                        <option value="1">1</option>
                                                        <option value="2">2</option>
                                                        <option value="3">3</option>
                                                        <option value="4">4</option>
                                                        <option value="5">5</option>
                                                        <option value="6">6</option>
                                                        <option value="7">7</option>
                                                        <option value="8">8</option>
                                                        <option value="9">9</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="first-name text-box-wrapper">
                                                <label class="tb-label">@TouristaFrontEnd.Resources.Global.Career_Details_Firstname</label>
                                                <div class="input-group"><input id="firstname" required type="text" placeholder="@TouristaFrontEnd.Resources.Global.Career_Details_Firstname" class="tb-input"></div>
                                            </div>
                                            <div class="last-name text-box-wrapper">
                                                <label class="tb-label">@TouristaFrontEnd.Resources.Global.Career_Details_LastName</label>
                                                <div class="input-group"><input id="lastname" type="text" placeholder="@TouristaFrontEnd.Resources.Global.Career_Details_LastName" class="tb-input"></div>
                                            </div>
                                            <div class="email text-box-wrapper">
                                                <label class="tb-label">@TouristaFrontEnd.Resources.Global.Booking_Email</label>
                                                <div class="input-group"><input id="Email" type="email" placeholder="@TouristaFrontEnd.Resources.Global.Booking_Email" class="tb-input"></div>
                                            </div>
                                            <div class="phone text-box-wrapper">
                                                <label class="tb-label">@TouristaFrontEnd.Resources.Global.ContactUs_Phone</label>
                                                <div class="input-group"><input id="Phone" type="text" placeholder="@TouristaFrontEnd.Resources.Global.ContactUs_Phone" class="tb-input"></div>
                                            </div>
                                            <div class="place text-box-wrapper">
                                                <label class="tb-label">@TouristaFrontEnd.Resources.Global.CotactUs_OfficeAddress</label>
                                                <div class="input-group"><input id="Address" type="text" placeholder="@TouristaFrontEnd.Resources.Global.CotactUs_OfficeAddress" class="tb-input"></div>
                                            </div>
                                            <div class="note text-box-wrapper">
                                                <label class="tb-label">@TouristaFrontEnd.Resources.Global.Note</label>
                                                <div class="input-group"><textarea id="Note" type="textarea" placeholder="@TouristaFrontEnd.Resources.Global.Note" rows="3" class="tb-input"></textarea></div>
                                            </div>
                                            <button id="btnSubmitBackage" type="submit" data-hover="SEND REQUEST" class="btn btn-slide"><span class="text">@TouristaFrontEnd.Resources.Global.BookNow</span><span class="icons fa fa-long-arrow-right"></span></button>
                                        </div>
                                    </form>
                                </div>

                            </div>

                        </div>

                    </div>
                </div>
                <br />
                <div class="container">

                    @{ Html.RenderAction("RelatedBackages", "Backage",
   new { backageId = @Model.BackageId, mvcController = "Backage", mvcAction = "RelatedBackages" }); }

                </div>
            </div>
        </section>
    </div>
    @*BUTTON BACK TO TOP*@
    <div id="back-top"><a href="#top" class="link"><i class="fa fa-angle-double-up"></i></a></div>
</div>
@*<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>*@

<script src="/Scripts/js/pages/hotel-view.js"></script>
<script>
    $(document).ready(function () {

        $("#btnSubmitBackage").click(function () {
            debugger;
            if ($('#firstname').val() == "" || $('#lastname').val() == "" || $('#Email').val() == "" || $('#Phone').val() == "" ||
                $('#CheckIn').val() == "" || $('#CheckOut').val() == "" || $('#Adult').val() == "" || $('#Child').val() == "") {
                alert("You must enter all inputs")
                return;
            }
            var user = {
                FullName: $('#firstname').val() + ' ' + $('#lastname').val(),
                Email: $('#Email').val(),
                Phone: $('#Phone').val(),

            };
            $.ajax({
                url: "http://localhost:50755/API/BackageReservations",
                type: 'post',
                dataType: 'json',
                success: function (data) {
                    debugger;

                },
                data: {
                    CheckIn: $('#CheckIn').val(),
                    CheckOut: $('#CheckOut').val(),
                    Adult: $('#Adult').val(),
                    Child: $('#Child').val(),
                    Address: $('#Address').val(),
                    Note: $('#Note').val(),
                    User: user,
                    BackageId: $('#BackageId').val()
                },
                success: function (result) {

                    alert("Thanks, we will contact with soon ");
                },
                error: function (result) {
                    console.log(result);
                    alert(result);
                }
            });
            @*$.ajax({
                url: '@Url.Action("Details")',
                type: "POST",
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                data: {
                    // PostId: $('.BackageId').val(),
                    //UserName: $('#username').val(),
                    Note: $('#Note').val(),
                    //DateCreated: new Date(),
                    //CommentText: $('#comment').val()
                },
                success: function (result) {

                    alert("success " + result.UserName);
                },
                error: function (result) {
                    alert("Failed");
                }

            });
            return false;*@
        });

        //$('#hotel').slick({
        //    slidesToShow: 1,
        //    slidesToScroll: 1,
        //    arrows: true,
        //    fade: true,
        //    asNavFor: '#hotel_nav'
        //});
        //$('#hotel_nav').slick({
        //    slidesToShow: 3,
        //    slidesToScroll: 1,
        //    asNavFor: '#hotel',
        //    dots: true,
        //    centerMode: true,
        //    focusOnSelect: true
        //});
    });


</script>